let originalSource,isOK=!1;function ok(){isOK=!0}let currentTarget,SourceContainer=document.querySelector("#SourceContainer"),isFirstTranslate=!0;function filterText(e){if("string"==typeof e)e=[e.trim()];else{if(!Array.isArray(e))return!1;e=e.map(e=>e.trim())}}function hasCachedText(e,t){let r=[];for(let n=0;n<e.length;n++){let o=`trans[${t}]:`+e[n],a=localStorage.getItem(o);if("string"!=typeof a||""===a)return!1;r.push(a)}return r}function setSource(e){hasTranslated()&&(document.body.innerHTML='<div id="SourceContainer"></div>\n  <div id="google_translate_element"></div>',SourceContainer=document.querySelector("#SourceContainer")),e.forEach(e=>{let t=document.createElement("span");t.innerText=e,SourceContainer.appendChild(t)}),originalSource=e}function setGoogleTransCookie(e){currentTarget!==e&&(document.cookie="googtrans=/auto/"+e,currentTarget=e)}async function googleTranslateElementInit(){for(;!1===isOK;)await sleep(1e3);return new google.translate.TranslateElement({autodisplay:!1,layout:google.translate.TranslateElement.FloatPosition.TOP_LEFT},"google_translate_element"),new Promise(e=>{let t=SourceContainer.firstChild,r=!1;t.addEventListener("DOMSubtreeModified",async()=>{if(!0===r)return!1;r=!0;let t=await callbackToOpener();saveToLocalStorage(t),e(t)},!1)})}function saveToLocalStorage(e){for(let t=0;t<e.length;t++){let r=`trans[${currentTarget}]:`+originalSource[t],n=e[t];localStorage.setItem(r,n)}}function sleep(e=500){return new Promise(t=>setTimeout(t,e))}function hasTranslated(){return!1===isFirstTranslate||document.querySelectorAll(".goog-te-combo").length>0}async function callbackToOpener(){for(;!1===hasTranslated();)await sleep(100);let e=SourceContainer.firstChild,t=e.innerText.trim();for(;t===originalSource[0];)await sleep(100),t=(e=SourceContainer.firstChild).innerText.trim();let r=[];return document.querySelectorAll("#SourceContainer span").forEach(e=>{r.push(e.innerText.trim())}),isFirstTranslate=!1,r}