let isOK=!1;function ok(){isOK=!0}let originalSource,SourceContainer=document.querySelector("#SourceContainer"),isFirstTranslate=!0;function filterText(a){if("string"===typeof a)a=[a.trim()];else if(Array.isArray(a))a=a.map(a=>a.trim());else return!1;return a}function hasCachedText(a,b){let c=[];for(let d=0;d<a.length;d++){let e=localStorage.getItem(`trans[${b}]:`+a[d]);if("string"===typeof e&&""!==e)c.push(e);else return!1}return c}
function setSource(a){hasTranslated()&&(document.body.innerHTML='<div id="SourceContainer"></div>\n  <div id="google_translate_element"></div>',SourceContainer=document.querySelector("#SourceContainer"));a.forEach(a=>{let b=document.createElement("span");b.innerText=a;SourceContainer.appendChild(b)});originalSource=a}let currentTarget;function setGoogleTransCookie(a){currentTarget!==a&&(document.cookie="googtrans=/auto/"+a,currentTarget=a)}
async function googleTranslateElementInit(){for(;!1===isOK;)await sleep(1E3);new google.translate.TranslateElement({autodisplay:!1,layout:google.translate.TranslateElement.FloatPosition.TOP_LEFT},"google_translate_element");return new Promise(a=>{let b=!1;SourceContainer.firstChild.addEventListener("DOMSubtreeModified",async()=>{if(!0===b)return!1;b=!0;let c=await callbackToOpener();saveToLocalStorage(c);a(c)},!1)})}
function saveToLocalStorage(a){for(let b=0;b<a.length;b++){let c=`trans[${currentTarget}]:`+originalSource[b],d=a[b];try{localStorage.setItem(c,d)}catch(e){return console.error(e),removeOldestItem(),saveToLocalStorage(a)}}}function removeOldestItem(){for(let a=0;100>a&&localStorage.key(0);a++)localStorage.removeItem(localStorage.key(0));return!0}
function localStorageUsageSpace(){var a="",b;for(b in window.localStorage)window.localStorage.hasOwnProperty(b)&&(a+=window.localStorage[b]);return(16*a.length/8192).toFixed(2)}function sleep(a=500){return new Promise(b=>setTimeout(b,a))}function hasTranslated(){return!1===isFirstTranslate?!0:0<document.querySelectorAll(".goog-te-combo").length}
async function callbackToOpener(){for(;!1===hasTranslated();)await sleep(100);var a=SourceContainer.firstChild;for(a=a.innerText.trim();a===originalSource[0];)await sleep(100),a=SourceContainer.firstChild,a=a.innerText.trim();let b=[];document.querySelectorAll("#SourceContainer span").forEach(a=>{b.push(a.innerText.trim())});isFirstTranslate=!1;return b};